<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>Feature Flags Beyond the Boolean</title>
</head>
<body><h1 id='feature-flags-beyond-the-boolean'>Feature Flags: Beyond the Boolean</h1>
<p>Like many problems in computer science, feature flagging seems deceptively easy to solve at first. After all, you might say, it&#39;s just a simple boolean or conditional. I could start as simply as setting a flag variable directly in my code that I can flip on and off as needed for testing.</p>
<pre><code class='language-javascript' lang='javascript'>const myFlag = true;

if (myFlag) {
	// show my new feature or run my new code
}
else {
	// show the old feature or run the old code
}
</code></pre>
<p>Of course, this very quickly becomes problematic as I need to ensure that I don&#39;t accidentally deploy my code with the flag turned on. This can be somewhat mitigated by tests, but it also doesn&#39;t scale well and makes it extremely difficult to tell what flags I have throughout my code.</p>
<h3 id='a-better-solution'>A better solution</h3>
<p>What I really need is some external but centralized place to set flags that I can even make different for each environment. I got it! I need a config or <code>.env</code> file.</p>
<pre><code class='language-yaml' lang='yaml'>flags:
	- myFlag: true
	- myOtherFlag: false
</code></pre>
<p>Not only can I manage different flags for different environments in a central location, but now I can even have flags structured to make them easier to understand and (extra bonus!) flags don&#39;t have to be booleans. I can have strings, numbers and even full objects as the value of a flag. This lets me do more than just flip a portion of code on or off, but now, for instance, I can pass full configurations as objects or even content changes as strings or numbers.</p>
<h3 id='whoa-how-did-things-get-so-complicated'>Whoa! How did things get so complicated?</h3>
<p>Except, I now have some new problems. It turns out that, now that we can handle more complex flag types, we have scenarios where we&#39;d like to have more then just two values, so I need to build something to manage which variation we want to serve at a given point.</p>
<p>Also, we&#39;d like to do more even with our simple boolean flags. We&#39;d like to have more than just 100% on or 100% off, but be able to do things like progressive rollouts to ensure that our changes hold up under load. And the product team would like to manage access to beta features for some of our key customers. In fact, they&#39;d like to control when a feature goes live to align it with other teams like marketing, so they&#39;d prefer if they didn&#39;t have to call and developer and redeploy the configs to get a feature turned on. Even the our software engineering team is concerned that our kill switch effectively requires deploying a new config or rolling back a release anyway.</p>
<p>Ok. So I can move the flag values out of the config and into a database or data store and then implement a management tool to allow the product team to manage changes and then I need to build a way for the prodcution application to know when a flag is flipped so that the change is near immediate when we need to kill a feature...oh and both product and engineering management would like me to track metrics so that we can better utilize our flag system to make decisions and...</p>
<p><img src="confused_meme.jpg" referrerpolicy="no-referrer" alt="it's just a simple feature flag system"></p>
<h2 id='from-feature-flags-to-feature-management'>From feature flags to feature management</h2>
<p>There&#39;s good news and there&#39;s &quot;less good&quot; news. The good news is that we now can do a lot more than just simple true/false or on/off feature flags. Our deployments are easier and less risky because we&#39;ve decoupled deploy from release. We no longer have long running feature branches that are painful and sometimes problematic to merge. Our product team can manage feature access, allowing us to test the impact of features using access controls or progressive rollouts while also aligning releases to company goals. But...</p>
<p>The &quot;less good&quot; news is that now me and my team, whose primary job is not feature flagging, has essentially built a <em>simple</em> version of a feature management platform like LaunchDarkly and is in charge of improving and maintaining it. For some teams, this is a valid path, but for most it can be a burden.</p>
<p>Regardless of which path you choose, to <a href='https://launchdarkly.com/blog/feature-management-platform-build-or-buy/'>buy or to build</a>, let&#39;s explore some of the cool things you can do beyond simple feature toggles with your new feature management platform.</p>
<h2 id='a-flag-for-every-occassion'>A flag for every occassion</h2>
<p>While traditional boolean flags are incredibly powerful and by themselves can help you separate deploy from release thereby improving your development team&#39;s productivity. But different types of flags enable you to manage different aspects of your application beyond specific code paths. Here are the additional <a href='https://docs.launchdarkly.com/sdk/concepts/flag-types#understanding-flag-types'>flag types</a> supported within LaunchDarkly:</p>
<ul>
<li><strong>String flags</strong> – these are frequently used to pass simple configuration values or even content.</li>
<li><strong>Number flags</strong> – these are frequently used to pass simple numeric configuration values.</li>
<li><strong>JSON flags</strong> – these can be used to pass complex configuration objects or even structured content.</li>

</ul>
<p>The key thing to understand is that, once you leave the world of boolean flags, these are all <a href='https://docs.launchdarkly.com/home/flags/variations/?q=flag+types#understanding-multivariate-flags'>multivariate flags</a>, meaning they can have more than two variations. This can allow you to test different configurations or multiple content options via a single flag or even target specific variations to specific users based upon specific criteria.</p>
<p>Let&#39;s look at a simple example of using a JSON flag for structured content. The below example modifies the content of our executive profile on the Wayne Industries about us page. This passes a very simple JSON object, but the data in a JSON flag can be as complex as you need it to be.</p>
<pre><code class='language-javascript' lang='javascript'>{
  &quot;account&quot;: &quot;Member&quot;,
  &quot;image&quot;: &quot;AdamWest.webp&quot;,
  &quot;location&quot;: &quot;Gotham&quot;,
  &quot;name&quot;: &quot;Brue Wayne&quot;,
  &quot;occupation&quot;: &quot;Billionaire&quot;
}
</code></pre>
<p>In the below CodePen, you can see what happens when you click the button to flip the flag on LaunchDarkly. When the flag is updated, the new flag data is passed via the stream to our instance of the LaunchDarkly SDK client which triggers an event and updates the UI with the new data.</p>
<iframe height="575" style="width: 100%;" scrolling="no" title="LaunchDarkly JSON Flag Example" src="https://codepen.io/remotesynth-the-bold/embed/qBoLZvz?default-tab=result" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen &lt;a href="https://codepen.io/remotesynth-the-bold/pen/qBoLZvz"&gt;
  LaunchDarkly JSON Flag Example&lt;/a&gt; by Brian Rinaldi (&lt;a href="https://codepen.io/remotesynth-the-bold"&gt;@remotesynth-the-bold&lt;/a&gt;)
  on &lt;a href="https://codepen.io"&gt;CodePen&lt;/a&gt;.
</iframe>
<p>This change happens client-side, but a more typical scenario would change this content server-side via one of LaunchDarkly&#39;s <a href='https://docs.launchdarkly.com/sdk'>20+ SDKs</a>.</p>
<p>In this example, manually changing the flag triggers the change, but things get much more interesting when we combine this with the ability to target users. For example, what if only Dick Grayson and Alfred Pennyworth were able to see Bruce Wayne&#39;s true executive profile? Let&#39;s see how this might work.</p>
<blockquote><p><strong>How the demo works</strong></p>
<p>&nbsp;</p>
</blockquote>
</body>
</html>